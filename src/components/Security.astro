---
/**
 * Security.astro
 * - Desktop (lg+): 2 columns (left text + badges, right feature card)
 * - Mobile/Tablet: stacks
 */

const defaultBadges = [
  { src: "/images/soc.webp", alt: "AICPA SOC" },
  { src: "/images/gdpr.webp", alt: "GDPR" },
  { src: "/images/iso.webp", alt: "ISO 27001" },
];

const defaultFeatures = [
  {
    title: "Secure MCP integrations",
    desc: "Enable secure AI access to your data via MCP connections",
    iconSrc: "/images/key.svg",
    iconAlt: "Key icon",
    iconBg: "rgba(253, 197, 166, 0.15)",
    iconBorder: "#FFE6D6",
  },
  {
    title: "Protected customer data",
    desc: "All customer data is encrypted and always under your control",
    iconSrc: "/images/db.svg",
    iconAlt: "Database icon",
    iconBg: "#EDF6FF",
    iconBorder: "#DDEEFF",
  },
  {
    title: "Complete compliance",
    desc: "Our agents meet compliance standards with audit-ready logs",
    iconSrc: "/images/lock.svg",
    iconAlt: "Lock icon",
    iconBg: "rgba(155, 230, 194, 0.15)",
    iconBorder: "#DDFBE3",
  },
];

const {
  title = "Enterprise-grade\nsecurity & data privacy",
  description = "Kaily is SOC 2 Type II and GDPR compliant, ensuring complete data privacy and zero compliance issues for global businesses",
  badges = defaultBadges,
  features = defaultFeatures,
} = Astro.props;
---

<section
  class="w-full bg-[linear-gradient(#fff,_#fbf7ff_20%,_#fbf7ff_80%,_#fff)] py-12 md:py-16 lg:py-20"
>
  <div class="mx-auto max-w-310 px-4">
    <div
      class="flex flex-col gap-10 lg:grid lg:grid-cols-2 lg:items-start lg:gap-12"
    >
      <!-- LEFT -->
      <div>
        <h2
          class="whitespace-pre-line text-[34px] font-semibold leading-[1.18] tracking-[-0.02em] text-[#0c0c0c] md:text-[48px]"
        >
          {title}
        </h2>

        <p
          class="mt-3 text-base font-medium leading-normal text-[#4c4c4c] md:text-lg"
        >
          {description}
        </p>

        <div class="mt-8 flex flex-wrap items-center gap-6">
          {
            badges.map((b) => (
              <img
                src={b.src}
                alt={b.alt}
                loading="lazy"
                decoding="async"
                class="h-18 w-auto object-contain md:h-21"
              />
            ))
          }
        </div>
      </div>

      <!-- RIGHT -->
      <div
        class="overflow-hidden rounded-[28px] border border-[#F1F1F1] bg-white shadow-[0_8px_30px_rgba(0,0,0,0.04)]"
      >
        {
          features.map((f, idx) => (
            <div class={idx !== 0 ? "border-t border-[#EBEBEB]" : ""}>
              <div class="flex gap-5 px-5 py-5 md:px-8 md:py-8">
                <div
                  class="flex h-12 w-12 shrink-0 items-center justify-center rounded-[14px] border"
                  style={`background:${f.iconBg}; border-color:${f.iconBorder};`}
                >
                  <img
                    src={f.iconSrc}
                    alt={f.iconAlt ?? ""}
                    loading="lazy"
                    decoding="async"
                    class="h-6 w-6 object-contain"
                  />
                </div>

                <div class="min-w-0">
                  <h3 class="text-[20px] font-semibold leading-[1.25] text-[#0c0c0c] md:text-2xl">
                    {f.title}
                  </h3>
                  <p class="mt-1 text-[14px] font-medium leading-[1.6] text-[#4c4c4c] md:text-base">
                    {f.desc}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
